第 1 天必学：IAM（AWS 权限管家，必考！占分 5%+，基础中的基础）
✅ 为什么必学：所有 AWS 服务都要靠 IAM 控权限，考题必考，实操必用，学不会后面没法上手 EC2/S3/Lambda

一、 通俗讲概念：IAM 到底是啥？
你可以把 AWS 看成一个大公司，里面有 EC2（服务器）、S3（文件柜）、RDS（数据库）这些 “办公室”。IAM 就是公司的保安部 + 人事部，管 2 件事：
谁能进公司（认证）：验证身份（账号 + 密码 / 密钥），确定是自己人
进公司能进哪些办公室、做什么事（授权）：比如只让开发看 S3、不让删数据；只让 Lambda 服务访问 DynamoDB，不让碰其他资源
核心 3 个核心组件（必考！记死）：
用户（User）：给人用的账号（比如你的备考账号、同事账号），一对一绑定人
角色（Role）：给 AWS 服务用的 “临时权限”（比如 Lambda 要读 S3，不能给它用户账号，给 Role 就行），服务按需申请，用完收回，最安全
策略（Policy）：权限的 “说明书”，纯 JSON 格式，写清楚 “允许 / 禁止访问哪个服务、做什么操作”，必须绑定到 User/Role 才生效

二、 必考核心考点（考试直接考，背会 + 理解）
核心原则（考题高频挖坑）：最小权限原则 → 给用户 / 服务的权限，刚好够用就行，绝不多给（比如开发只给 S3 读权限，不给删权限）
关键区别（必考选择题）：
User 👉 给人用，长期权限
Role 👉 给AWS 服务用（如 Lambda、EC2），临时权限，自动过期，更安全（考点：服务间授权优先选 Role，不是 User）
策略特性：默认拒绝 → 没在 Policy 里明确允许的操作，一律禁止（安全考点）
不考的：不用背 Policy 的完整 JSON 代码，只考 “策略作用”“怎么绑定”

三、 实操步骤（用 Free Tier，零成本练手，必须做！贴合开发）
你的目标：创建 1 个「只能读 S3、不能删改」的 IAM 用户，验证权限（实操会了，考题秒选）
步骤 1：登录 AWS 控制台，找到 IAM 服务
打开 AWS 官网，登录你的 Free Tier 账号
顶部搜索框搜「IAM」，直接进入 IAM 控制台（记住：IAM 是全局服务，不用选区域！考点）
步骤 2：创建 IAM 用户（给人用的账号）
左侧菜单点「用户」→ 「创建用户」
输入用户名（比如 test-s3-read），下一步
权限设置：选「附加直接策略」（不要选管理员权限！贴合最小权限原则）
搜索「AmazonS3ReadOnlyAccess」（AWS 官方预制策略，刚好只读 S3，不用自己写 JSON），勾选，下一步
直接创建用户，不用加标签，完成
步骤 3：验证权限（关键！确保学懂）
回到用户列表，点刚创建的 test-s3-read → 「安全凭证」→ 「创建访问密钥」
用途选「本地代码」（贴合你开发场景），下一步，复制「访问密钥 ID」和「私有访问密钥」（只显示一次，记下来）
用你熟悉的 Node.js 测试（实操贴合你的技术栈）：
安装 AWS SDK：npm install aws-sdk
写简单代码（只能读 S3，删改会报错）
const AWS = require('aws-sdk');
// 配置IAM用户密钥
AWS.config.update({
  accessKeyId: '你复制的访问密钥ID',
  secretAccessKey: '你复制的私有访问密钥',
  region: 'ap-northeast-1' // 选你的区域，比如东京
});

const s3 = new AWS.S3();
// 测试：列出S3存储桶（只读操作，允许）
s3.listBuckets((err, data) => {
  if (err) console.log('错误：', err);
  else console.log('S3桶列表：', data.Buckets);
});

// 测试：创建S3桶（写操作，禁止，会报错）
// s3.createBucket({Bucket: 'test-iam-demo'}, (err) => console.log(err));
✅ 预期结果：能列出桶，创建桶报错 → 说明权限生效，最小权限原则落地

四、 真题小测（今天学完就能做，检验成果）
（助理级必考题型）题干：你是 Web 开发者，需要让 Lambda 函数读取 S3 中的静态资源，不能让 Lambda 有其他权限，以下哪个方案最安全合规？A. 创建 IAM 用户，给用户 S3 只读权限，把密钥写进 Lambda 代码里B. 创建 IAM 角色，给角色绑定 S3 只读策略，给 Lambda 附加该角色C. 给 AWS 根账号（登录账号）授权 S3 只读，让 Lambda 用根账号访问D. 把 S3 设为公有读，Lambda 直接访问，不用配置权限
✅ 正确答案：B✅ 解析：服务（Lambda）授权优先用 Role（临时权限，安全）；A 密钥写代码会泄露，C 根账号权限太大，D 公有读不安全，违背最小权限原则

今日作业（必须完成，巩固记忆）
默写 IAM 3 个核心组件（User/Role/Policy）的用途
动手完成上面的 IAM 用户创建 + Node.js 实操，确认权限生效
记住 1 个核心考点：服务间授权优先选 Role，遵循最小权限原则